<ion-header>
	<ion-toolbar>
		<ion-buttons slot="start">
			<ion-back-button defaultHref="/home"></ion-back-button>
		</ion-buttons>
		<ion-title>{{PageTitle}}</ion-title>
		<ion-buttons slot="end">
			<ion-button (click)="SlideTo(0)">Contents</ion-button>
		</ion-buttons>
	</ion-toolbar>
</ion-header>

<ion-content>
	<ion-slides *ngIf="Characters" #Slides>
		<ion-slide style="text-align: left;">
			<ion-card>
				<ion-card-header>
					<ion-card-title>
						Contents
					</ion-card-title>
				</ion-card-header>
				<ion-card-content>
					<ion-list lines="none">
						<ion-item *ngFor="let _Character of Characters | Character:PageTitle; index as i"
							(click)="SlideTo(i + 1)" detail="true">
							{{_Character.FirstName}} <span
								*ngIf="_Character.EarnedName && _Character.EarnedName != ''">&nbsp;"{{_Character.EarnedName}}"&nbsp;</span>
							{{_Character.LastName}}
						</ion-item>
					</ion-list>
				</ion-card-content>
			</ion-card>
		</ion-slide>
		<ion-slide *ngFor="let _Character of Characters | Character:PageTitle">
			<ion-card (click)="PresentCharacterModal(_Character)">
				<ion-card-header>
					<ion-card-title>{{_Character.FirstName}} {{_Character.LastName}}</ion-card-title>
					<ion-card-subtitle>{{_Character.EarnedName}}</ion-card-subtitle>
				</ion-card-header>
				<ion-card-content>
					<ion-list>
						<ion-item>
							{{_Character.Identity}}
						</ion-item>
						<ion-item>
							Rank: {{GetRankString(_Character.Rank)}}
						</ion-item>
						<ion-item>
							Age: {{_Character.Age}}
						</ion-item>
						<ion-item>
							Gender: {{_Character.Gender}}
						</ion-item>
						<ion-item>
							Virtue: {{_Character.Virtue}}
						</ion-item>
						<ion-item>
							Lineage: {{_Character.Lineage}}
						</ion-item>
						<ion-item>
							<div class="Skills" (click)="$event.stopPropagation()">
								<ion-chip outline="true" *ngFor="let _Skill of _Character.Skills"
									(click)="PresentSkillModal(_Skill)">
									<ion-label>
										{{_Skill.Name}}<span *ngIf="_Skill.Count > 1">&nbsp;x{{_Skill.Count}}</span>
									</ion-label>
								</ion-chip>
							</div>
						</ion-item>
						<ion-item *ngIf="IsApothecary(_Character.Skills) || IsMagician(_Character.Skills)">
							<div class="Buttons" (click)="$event.stopPropagation()">
								<ion-button *ngIf="IsMagician(_Character.Skills)" expand="block" (click)="ViewSpells(_Character)">View Spells
								</ion-button>
								<ion-button *ngIf="IsApothecary(_Character.Skills)" expand="block" (click)="ViewPotions(_Character)">View Potions
								</ion-button>
							</div>
						</ion-item>
					</ion-list>
					<p class="Description" *ngIf="_Character.Alive" [innerHTML]="_Character.Summary"></p>
					<p class="Description" *ngIf="!_Character.Alive" [innerHTML]="_Character.DeathStory"></p>
				</ion-card-content>
			</ion-card>
		</ion-slide>
	</ion-slides>
</ion-content>